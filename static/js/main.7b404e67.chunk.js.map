{"version":3,"sources":["Components/Header.js","Components/ProductoLista.js","Components/Productos.js","Components/Error.js","Components/EditarProducto.js","Components/AgregarProducto.js","Components/Producto.js","Components/PDF.js","App.js","serviceWorker.js","index.js"],"names":["Header","className","to","activeClassName","styles","StyleSheet","create","page","flexDirection","backgroundColor","section","margin","padding","flexGrow","title","fontSize","subtitle","ProductoLista","producto","guardarRecargarProductos","data-categoria","categoria","nombrePlatillo","precioPlatillo","id","type","onClick","console","log","Swal","fire","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","then","result","a","value","url","axios","delete","status","document","size","style","fileName","loading","Productos","productos","map","key","Error","mensaje","withRouter","props","history","precioPlatilloRef","useRef","nombrePlatilloRef","useState","error","guardarError","guardarCategoria","editarProducto","e","preventDefault","nuevoNombrePlatillo","current","nuevoPrecioPlatillo","categoriaPlatillo","editarPlatillo","put","push","leerValorRadio","target","onSubmit","name","placeholder","ref","defaultValue","onChange","guardarNombre","guardarPrecio","agregarProducto","post","aatill","Producto","oction","req","res","require","createTransport","service","auth","user","pass","sendMail","from","subject","info","jsonp","body","App","guardarProductos","recargarProductos","useEffect","get","resultado","data","consultarApi","exact","path","render","component","PDF","idProducto","parseInt","match","params","filter","Boolean","window","location","hostname","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.7b404e67.chunk.js","sourcesContent":["import React from 'react';\r\nimport {Link, NavLink} from 'react-router-dom';\r\n\r\n\r\nconst Header = () => (\r\n<nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n<div className=\"container\">\r\n<Link to=\"/productos\" className =\"navbar-brand\">\r\n    React CRUD y Routing\r\n</Link>\r\n<ul className = \"navbar-nav mr-auto\">\r\n    <li className=\"nav-item\">\r\n        <NavLink\r\n        to='/productos'\r\n        className=\"nav-link\"\r\n        activeClassName=\"active\"\r\n        >Registros</NavLink>\r\n    </li>\r\n    <li className=\"nav-item\">\r\n        <NavLink\r\n        to='/nuevo-producto'\r\n        className=\"nav-link\"\r\n        activeClassName=\"active\"\r\n        >Nuevo Registro</NavLink>\r\n    </li>\r\n</ul>\r\n</div>\r\n</nav>\r\n);\r\n\r\nexport default Header;","\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\n\r\nimport { PDFDownloadLink, Document, Page, Text, View, StyleSheet } from \"@react-pdf/renderer\";\r\n\r\n\r\n\r\n\r\nfunction ProductoLista({ producto, guardarRecargarProductos }) {\r\n  const MyDoc = () => (\r\n    <Document>\r\n      <Page size=\"A4\" style={styles.page}>\r\n        <View  style={styles.section}>\r\n        <Text style={styles.title}>NOMBRE</Text>\r\n        <Text style={styles.subtitle}>{producto.nombrePlatillo}{\"\"}</Text>\r\n        </View>\r\n        <View style={styles.section}>\r\n        <Text style={styles.title}>PRECIO</Text>\r\n        <Text style={styles.subtitle}>${producto.precioPlatillo}</Text>\r\n        </View>\r\n        <View style={styles.section}>\r\n        <Text style={styles.title}>CATEGORIA</Text>\r\n        <Text style={styles.subtitle}>{producto.categoria}</Text>\r\n        </View>\r\n      </Page>\r\n    </Document>\r\n  );\r\n  const eliminarProducto = id => {\r\n    console.log(\"Eliminando\", id);\r\n    //TODO: Eliminar los registros\r\n    Swal.fire({\r\n      title: \"¿Estas Seguro?\",\r\n      text: \"Un Registro eliminado no se puede recuperar!\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Eliminar\",\r\n      cancelButtonText: \"Cancelar\"\r\n    }).then(async result => {\r\n      if (result.value) {\r\n        try {\r\n          const url = `http://localhost:4000/restaurant/${id}`;\r\n          const resultado = await axios.delete(url);\r\n          if (resultado.status === 200) {\r\n            Swal.fire(\"Eliminado!\", \"El Registro se ha eliminado.\", \"success\");\r\n            //Consultar la api nuevamente\r\n            guardarRecargarProductos(true);\r\n          }\r\n        } catch (error) {\r\n          console.log(error);\r\n          Swal.fire({\r\n            type: \"error\",\r\n            title: \"Error\",\r\n            text: \"Hubo un error, vuelva a intentarlo!\"\r\n          });\r\n        }\r\n      }\r\n    });\r\n  };\r\n  return (\r\n    <li\r\n      data-categoria={producto.categoria}\r\n      className=\"list-group-item d-flex justify-content-between\r\n            aling-items-center\"\r\n    >\r\n      <p>\r\n        {producto.nombrePlatillo}{\" \"}\r\n        <span className=\"font-weight-bold\">${producto.precioPlatillo}</span>\r\n      </p>\r\n      <div>\r\n        <Link\r\n          to={`/productos/editar/${producto.id}`}\r\n          className=\"btn btn-success mr-2\"\r\n        >\r\n          Editar\r\n        </Link>\r\n\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-danger\"\r\n          onClick={() => eliminarProducto(producto.id)}\r\n        >\r\n          Eliminar &times;\r\n        </button>\r\n\r\n        <PDFDownloadLink document={<MyDoc/>} fileName=\"Ejemplo.pdf\">\r\n          {({ loading }) => (loading ? \"Loading document...\" : \"Download now!\")}\r\n\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-success mr-2\"\r\n          >\r\n            PDF\r\n          </button>\r\n        </PDFDownloadLink>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n  page: {\r\n    flexDirection: 'row',\r\n    backgroundColor: \"#FFFFFF\",\r\n\r\n  },\r\n  section: {\r\n    margin: 10,\r\n    padding: 10,\r\n    flexGrow: 1,\r\n  },\r\n  title: {\r\n    fontSize: 15,\r\n    backgroundColor: '#98999A'\r\n  },\r\n  subtitle: {\r\n    fontSize: 13,\r\n  },\r\n});\r\n\r\n\r\nexport default ProductoLista;","import React, {Fragment} from \"react\";\r\nimport ProductoLista from './ProductoLista';\r\n\r\nfunction Productos({productos, guardarRecargarProductos}){\r\n    return (\r\n        <Fragment>\r\n        <h1 className=\"text-center\">Registros</h1>\r\n        <ul className=\"list-group mt-5\">\r\n            {productos.map(producto =>(\r\n                <ProductoLista\r\n                key={producto.id}\r\n                producto={producto}\r\n                guardarRecargarProductos={guardarRecargarProductos}\r\n                />\r\n            ))}\r\n        </ul>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Productos; ","import React from 'react';\r\n\r\nconst Error = ({mensaje }) => (\r\n\r\n<p className=\"alert alert-danger p3 my-5 text-center text-uppercase font-weight-bold\">\r\n    {mensaje}\r\n</p>\r\n);\r\n    \r\n\r\n\r\nexport default Error;\r\n","import React, {useState, useRef} from \"react\";\r\nimport Error from './Error';\r\n\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nfunction EditarProducto(props){\r\n    \r\n    //destructuring de props\r\n    const {history,producto, guardarRecargarProductos}=props;\r\n    \r\n    //Generar los refs\r\n    const precioPlatilloRef = useRef('');\r\n    const nombrePlatilloRef = useRef('');\r\n\r\n\r\n    const [error, guardarError] = useState(false);\r\n    const [categoria, guardarCategoria] = useState('');\r\n\r\n    const editarProducto = async e =>{\r\n        e.preventDefault();\r\n\r\n    //Validacion\r\n    const nuevoNombrePlatillo = nombrePlatilloRef.current.value,\r\n          nuevoPrecioPlatillo = precioPlatilloRef.current.value;\r\n\r\n        if(nuevoNombrePlatillo === '' || nuevoPrecioPlatillo === '' || categoria === ''){\r\n            guardarError(true)\r\n            return;\r\n        }\r\n        guardarError(false);\r\n\r\n        //Revisar si cambio la categoria de lo contrario asignar el mismo valor \r\n        let categoriaPlatillo=(categoria === '') ? producto.categoria : categoria;\r\n        console.log(categoriaPlatillo);\r\n\r\n        //Obtener los valores del formulario \r\n        const editarPlatillo={\r\n            precioPlatillo : nuevoPrecioPlatillo,\r\n            nombrePlatillo : nuevoNombrePlatillo,\r\n            categoria : categoriaPlatillo\r\n        }\r\n        //Enviar el request \r\n        const url=`http://localhost:4000/restaurant/${producto.id}`;\r\n        \r\n        try{\r\n            const resultado = await axios.put(url, editarPlatillo);\r\n            if(resultado.status === 200){\r\n                Swal.fire(\r\n                    'Registro Editado!',\r\n                    'El registro se edito correctamente!',\r\n                    'success'\r\n                  )\r\n            }\r\n\r\n        }catch(error){\r\n            console.log(error);       \r\n            Swal.fire({\r\n                type: 'error',\r\n                title: 'Error',\r\n                text: 'Hubo un error, vuelva a intentarlo!'\r\n              })  \r\n        }\r\n        //Redirigir al usuario, consultar Api\r\n        guardarRecargarProductos(true);\r\n        history.push('/productos');\r\n\r\n    }\r\n    const leerValorRadio = e => {\r\n        guardarCategoria(e.target.value);\r\n    }\r\n    \r\n\r\n    return(\r\n        <div className=\"col-md-8 mx-auto \">\r\n        <h1 className=\"text-center\">Editar Registro</h1>\r\n\r\n        {(error) ? <Error mensaje='Todos los campos son obligatorios' /> : null}\r\n\r\n        <form\r\n            className=\"mt-5\"\r\n            onSubmit={editarProducto}\r\n        >\r\n            <div className=\"form-group\">\r\n                <label>Nombre Platillo</label>\r\n                <input \r\n                    type=\"text\" \r\n                    className=\"form-control\" \r\n                    name=\"nombre\" \r\n                    placeholder=\"Nombre\"\r\n                    ref={nombrePlatilloRef}\r\n                    defaultValue={producto.nombrePlatillo}\r\n                />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label>Apellidos</label>\r\n                <input \r\n                    type=\"text\" \r\n                    className=\"form-control\" \r\n                    name=\"precio\"\r\n                    placeholder=\"Apellidos\"\r\n                    ref={precioPlatilloRef}\r\n                    defaultValue={producto.precioPlatillo}\r\n                />\r\n            </div>\r\n\r\n            <legend className=\"text-center\">Sexo:</legend>\r\n            <div className=\"text-center\">\r\n                <div className=\"form-check form-check-inline\">\r\n                    <input \r\n                        className=\"form-check-input\" \r\n                        type=\"radio\" \r\n                        name=\"categoria\"\r\n                        value=\"postre\"\r\n                        onChange={leerValorRadio}\r\n                    />\r\n                    <label className=\"form-check-label\">\r\n                        Postre\r\n                    </label>\r\n                </div>\r\n                <div className=\"form-check form-check-inline\">\r\n                    <input \r\n                        className=\"form-check-input\" \r\n                        type=\"radio\" \r\n                        name=\"categoria\"\r\n                        value=\"bebida\"\r\n                        onChange={leerValorRadio}\r\n                    />\r\n                    <label className=\"form-check-label\">\r\n                        Bebida\r\n                    </label>\r\n                </div>\r\n                <div className=\"form-check form-check-inline\">\r\n                    <input \r\n                        className=\"form-check-input\" \r\n                        type=\"radio\" \r\n                        name=\"categoria\"\r\n                        value=\"cortes\"\r\n                        onChange={leerValorRadio}\r\n                    />\r\n                    <label className=\"form-check-label\">\r\n                        Cortes\r\n                    </label>\r\n                </div>\r\n                <div className=\"form-check form-check-inline\">\r\n                    <input \r\n                        className=\"form-check-input\" \r\n                        type=\"radio\" \r\n                        name=\"categoria\"\r\n                        value=\"ensalada\"\r\n                        onChange={leerValorRadio}\r\n                    />\r\n                    <label className=\"form-check-label\">\r\n                        Ensalada                    </label>\r\n                </div>\r\n                </div>\r\n\r\n            <input type=\"submit\" className=\"font-weight-bold text-uppercase mt-5 btn \r\n            btn-primary btn-block py-3\" value=\"Editar Registro\" />\r\n        </form>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(EditarProducto); ","\r\nimport React, {useState} from \"react\";\r\nimport Error from './Error';\r\n\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nfunction AgregarProducto({history, guardarRecargarProductos}){\r\n\r\n\r\n    //state\r\n    const [nombrePlatillo, guardarNombre] = useState('');\r\n    const [precioPlatillo, guardarPrecio] = useState('');\r\n    const [categoria, guardarCategoria] = useState('');\r\n    const [error, guardarError] = useState(false);\r\n\r\n    const leerValorRadio = e => {\r\n        guardarCategoria(e.target.value);\r\n    }\r\n\r\n    const agregarProducto = async e => {\r\n        e.preventDefault();\r\n\r\n        if(nombrePlatillo ==='' || precioPlatillo === '' || categoria === ''){\r\n            guardarError(true);\r\n            return;\r\n        }\r\n\r\n            guardarError(false);\r\n\r\n            //Crear el nuevo producto\r\n            try{\r\n                const resultado = await axios.post('http://localhost:4000/restaurant', {\r\n                nombrePlatillo,\r\n                precioPlatillo,\r\n                categoria\r\n                });\r\n\r\n                if(resultado.status === 201){\r\n                    Swal.fire(\r\n                        'Registro Creado!',\r\n                        'El registro se creo correctamente!',\r\n                        'success'\r\n                      )\r\n                }\r\n\r\n            }catch(error){\r\n                console.log(error);\r\n                Swal.fire({\r\n                    type: 'error',\r\n                    title: 'Error',\r\n                    text: 'Hubo un error, vuelva a intentarlo!'\r\n                  })\r\n            }\r\n            //Redirigir al usuario a productos\r\n            guardarRecargarProductos(true);\r\n            history.push('/productos');\r\n    }\r\n\r\n    return (\r\n        <div className=\"col-md-8 mx-auto \">\r\n            <h1 className=\"text-center\">Agregar Nuevo Registro</h1>\r\n\r\n            {(error) ? <Error mensaje='Todos los campos son obligatorios' /> : null}\r\n\r\n            <form\r\n                className=\"mt-5\"\r\n                onSubmit={agregarProducto}\r\n            >\r\n                <div className=\"form-group\">\r\n                    <label>Nombre Platillo</label>\r\n                    <input \r\n                        type=\"text\" \r\n                        className=\"form-control\" \r\n                        name=\"nombre\" \r\n                        placeholder=\"Nombre\"\r\n                        onChange={e => guardarNombre(e.target.value)}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label>Precio</label>\r\n                    <input \r\n                        type=\"number\" \r\n            aatill            className=\"form-control\" \r\n                        name=\"precio\"\r\n                        placeholder=\"Precio\"\r\n                        onChange={e => guardarPrecio(e.target.value)}\r\n                    />\r\n                </div>\r\n\r\n                <legend className=\"text-center\">Categoria:</legend>\r\n                <div className=\"text-center\">\r\n                <div className=\"form-check form-check-inline\">\r\n                    <input \r\n                        className=\"form-check-input\" \r\n                        type=\"radio\" \r\n                        name=\"categoria\"\r\n                        value=\"postre\"\r\n                        onChange={leerValorRadio}\r\n                    />\r\n                    <label className=\"form-check-label\">\r\n                        Postre\r\n                    </label>\r\n                </div>\r\n                <div className=\"form-check form-check-inline\">\r\n                    <input \r\n                        className=\"form-check-input\" \r\n                        type=\"radio\" \r\n                        name=\"categoria\"\r\n                        value=\"bebida\"\r\n                        onChange={leerValorRadio}\r\n                    />\r\n                    <label className=\"form-check-label\">\r\n                        Bebida\r\n                    </label>\r\n                </div>\r\n                <div className=\"form-check form-check-inline\">\r\n                    <input \r\n                        className=\"form-check-input\" \r\n                        type=\"radio\" \r\n                        name=\"categoria\"\r\n                        value=\"cortes\"\r\n                        onChange={leerValorRadio}\r\n                    />\r\n                    <label className=\"form-check-label\">\r\n                        Cortes\r\n                    </label>\r\n                </div>\r\n                <div className=\"form-check form-check-inline\">\r\n                    <input \r\n                        className=\"form-check-input\" \r\n                        type=\"radio\" \r\n                        name=\"categoria\"\r\n                        value=\"ensalada\"\r\n                        onChange={leerValorRadio}\r\n                    />\r\n                    <label className=\"form-check-label\">\r\n                        Ensalada                    </label>\r\n                </div>\r\n                </div>\r\n\r\n                <input type=\"submit\" className=\"font-weight-bold text-uppercase mt-5 btn btn-primary btn-block py-3\" value=\"Agregar Registro\" />\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter (AgregarProducto); ","import React from \"react\";\r\n\r\nfunction Producto(){\r\n\r\n    return (\r\n        <h1 className=\"text-center\">Datos del Producto</h1>\r\n    )\r\n}\r\n\r\nexport default Producto; ","\r\n \r\n\r\n// email sender function\r\n\r\nfunction oction(req, res){\r\n\r\n// Definimos el transporter\r\nvar nodemailer = require('nodemailer');\r\n    var transporter = nodemailer.createTransport({\r\n        service: 'Gmail',\r\n        auth: {\r\n            user: 'adamerosasnorma@gmail.com',\r\n            pass: ''\r\n        }\r\n    });\r\n// Definimos el email\r\nvar mailOptions = {\r\n    from: 'Remitente',\r\n    to: 'normaadamerosas@gmail.com',\r\n    subject: 'Asunto',\r\n    text: 'Contenido del email'\r\n};\r\n// Enviamos el email\r\ntransporter.sendMail(mailOptions, function(error, info){\r\n    if (error){\r\n        console.log(error);\r\n       // res.send(500, error.message);\r\n    } else {\r\n        console.log(\"Email sent\");\r\n        res.status(200).jsonp(req.body);\r\n    }\r\n});\r\n};\r\n\r\n\r\n\r\nexport default oction; ","import React, {useEffect, useState} from 'react';\nimport {BrowserRouter as Router, Route, Switch} from\n 'react-router-dom';\nimport axios from 'axios';\n\nimport Header from './Components/Header';\nimport Productos from './Components/Productos';\nimport EditarProducto from './Components/EditarProducto';\nimport AgregarProducto from './Components/AgregarProducto';\nimport Producto from './Components/Producto';\nimport PDF from './Components/PDF';\n\n\n\nfunction App() {\n\n\nconst [ productos, guardarProductos] = useState([]);\nconst [ recargarProductos, guardarRecargarProductos] = useState(true);\n\nuseEffect(() => {\nif(recargarProductos) {\n  const consultarApi = async () => {\n    //Consultar Api de json-server\n  \n    const resultado = await axios.get('https://github.com/NormaAr/CrudRouter/edit/master/db.json');\n  \n    guardarProductos(resultado.data);\n  }\n  consultarApi();\n  //Cambiar a false la recarga de los productos\n  guardarRecargarProductos(false);\n}\n}, [recargarProductos]);\n\n\n  return (\n<Router>\n<Header />\n<main className=\"container mt-5\">\n<Switch>\n  <Route exact path=\"/productos\"\n      render={() => (\n        <Productos\n         productos={productos}\n         guardarRecargarProductos={guardarRecargarProductos}\n         />\n      )}\n   /> \n\n  <Route exact path=\"/nuevo-producto\" \n  render={() => (\n  <AgregarProducto\n  guardarRecargarProductos={guardarRecargarProductos}\n  />\n  )} />\n  <Route exact path=\"/productos/:id\" component={Producto} />\n  <Route exact path=\"/PDF\" component={PDF} />\n  <Route exact path=\"/productos/editar/:id\"\n   render={props => {\n     //Tomar ID del producto \n    const idProducto = parseInt(props.match.params.id);\n    \n    //El producto que se pasa al state\n    const producto = productos.filter(producto => producto.id ===\n      idProducto); \n     return(\n       <EditarProducto\n         producto={producto[0]}\n         guardarRecargarProductos = {guardarRecargarProductos}\n       />\n     )\n   }} />\n</Switch>\n</main>\n<p className = \"mt-4 p2 text-center\">Todos los Derechos Reservados</p>\n</Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}