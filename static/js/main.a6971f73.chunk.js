(this.webpackJsonproutercrud=this.webpackJsonproutercrud||[]).push([[0],{337:function(e,a,t){e.exports=t(635)},364:function(e,a){},366:function(e,a){},406:function(e,a){},407:function(e,a){},540:function(e,a){},542:function(e,a){},575:function(e,a){},576:function(e,a){},635:function(e,a,t){"use strict";t.r(a);var r=t(2),n=t.n(r),c=t(322),o=t.n(c),l=t(43),s=t.n(l),i=t(79),m=t(55),u=t(62),p=t(84),d=t(80),f=t.n(d),b=function(){return n.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},n.a.createElement("div",{className:"container"},n.a.createElement(u.b,{to:"/productos",className:"navbar-brand"},"React CRUD y Routing"),n.a.createElement("ul",{className:"navbar-nav mr-auto"},n.a.createElement("li",{className:"nav-item"},n.a.createElement(u.c,{to:"/productos",className:"nav-link",activeClassName:"active"},"Registros")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(u.c,{to:"/nuevo-producto",className:"nav-link",activeClassName:"active"},"Nuevo Registro")))))},E=t(66),g=t.n(E),v=t(39);var h=v.d.create({page:{flexDirection:"row",backgroundColor:"#FFFFFF"},section:{margin:10,padding:10,flexGrow:1},title:{fontSize:15,backgroundColor:"#98999A"},subtitle:{fontSize:13}}),N=function(e){var a=e.producto,t=e.guardarRecargarProductos;return n.a.createElement("li",{"data-categoria":a.categoria,className:"list-group-item d-flex justify-content-between\r aling-items-center"},n.a.createElement("p",null,a.nombrePlatillo," ",n.a.createElement("span",{className:"font-weight-bold"},"$",a.precioPlatillo)),n.a.createElement("div",null,n.a.createElement(u.b,{to:"/productos/editar/".concat(a.id),className:"btn btn-success mr-2"},"Editar"),n.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return e=a.id,console.log("Eliminando",e),void g.a.fire({title:"\xbfEstas Seguro?",text:"Un Registro eliminado no se puede recuperar!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Eliminar",cancelButtonText:"Cancelar"}).then(function(){var a=Object(i.a)(s.a.mark((function a(r){var n;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!r.value){a.next=13;break}return a.prev=1,n="http://localhost:4000/restaurant/".concat(e),a.next=5,f.a.delete(n);case 5:200===a.sent.status&&(g.a.fire("Eliminado!","El Registro se ha eliminado.","success"),t(!0)),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(1),console.log(a.t0),g.a.fire({type:"error",title:"Error",text:"Hubo un error, vuelva a intentarlo!"});case 13:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}());var e}},"Eliminar \xd7"),n.a.createElement(v.b,{document:n.a.createElement((function(){return n.a.createElement(v.a,null,n.a.createElement(v.c,{size:"A4",style:h.page},n.a.createElement(v.f,{style:h.section},n.a.createElement(v.e,{style:h.title},"NOMBRE"),n.a.createElement(v.e,{style:h.subtitle},a.nombrePlatillo,"")),n.a.createElement(v.f,{style:h.section},n.a.createElement(v.e,{style:h.title},"PRECIO"),n.a.createElement(v.e,{style:h.subtitle},"$",a.precioPlatillo)),n.a.createElement(v.f,{style:h.section},n.a.createElement(v.e,{style:h.title},"CATEGORIA"),n.a.createElement(v.e,{style:h.subtitle},a.categoria))))}),null),fileName:"Ejemplo.pdf"},(function(e){return e.loading?"Loading document...":"Download now!"}),n.a.createElement("button",{type:"button",className:"btn btn-success mr-2"},"PDF"))))};var k=function(e){var a=e.productos,t=e.guardarRecargarProductos;return n.a.createElement(r.Fragment,null,n.a.createElement("h1",{className:"text-center"},"Registros"),n.a.createElement("ul",{className:"list-group mt-5"},a.map((function(e){return n.a.createElement(N,{key:e.id,producto:e,guardarRecargarProductos:t})}))))},x=function(e){var a=e.mensaje;return n.a.createElement("p",{className:"alert alert-danger p3 my-5 text-center text-uppercase font-weight-bold"},a)};var y=Object(p.f)((function(e){var a=e.history,t=e.producto,c=e.guardarRecargarProductos,o=Object(r.useRef)(""),l=Object(r.useRef)(""),u=Object(r.useState)(!1),p=Object(m.a)(u,2),d=p[0],b=p[1],E=Object(r.useState)(""),v=Object(m.a)(E,2),h=v[0],N=v[1],k=function(){var e=Object(i.a)(s.a.mark((function e(r){var n,i,m,u,p;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),n=l.current.value,i=o.current.value,""!==n&&""!==i&&""!==h){e.next=5;break}return b(!0),e.abrupt("return");case 5:return b(!1),m=""===h?t.categoria:h,console.log(m),u={precioPlatillo:i,nombrePlatillo:n,categoria:m},p="http://localhost:4000/restaurant/".concat(t.id),e.prev=10,e.next=13,f.a.put(p,u);case 13:200===e.sent.status&&g.a.fire("Registro Editado!","El registro se edito correctamente!","success"),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(10),console.log(e.t0),g.a.fire({type:"error",title:"Error",text:"Hubo un error, vuelva a intentarlo!"});case 21:c(!0),a.push("/productos");case 23:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(a){return e.apply(this,arguments)}}(),y=function(e){N(e.target.value)};return n.a.createElement("div",{className:"col-md-8 mx-auto "},n.a.createElement("h1",{className:"text-center"},"Editar Registro"),d?n.a.createElement(x,{mensaje:"Todos los campos son obligatorios"}):null,n.a.createElement("form",{className:"mt-5",onSubmit:k},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Nombre Platillo"),n.a.createElement("input",{type:"text",className:"form-control",name:"nombre",placeholder:"Nombre",ref:l,defaultValue:t.nombrePlatillo})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Apellidos"),n.a.createElement("input",{type:"text",className:"form-control",name:"precio",placeholder:"Apellidos",ref:o,defaultValue:t.precioPlatillo})),n.a.createElement("legend",{className:"text-center"},"Sexo:"),n.a.createElement("div",{className:"text-center"},n.a.createElement("div",{className:"form-check form-check-inline"},n.a.createElement("input",{className:"form-check-input",type:"radio",name:"categoria",value:"postre",onChange:y}),n.a.createElement("label",{className:"form-check-label"},"Postre")),n.a.createElement("div",{className:"form-check form-check-inline"},n.a.createElement("input",{className:"form-check-input",type:"radio",name:"categoria",value:"bebida",onChange:y}),n.a.createElement("label",{className:"form-check-label"},"Bebida")),n.a.createElement("div",{className:"form-check form-check-inline"},n.a.createElement("input",{className:"form-check-input",type:"radio",name:"categoria",value:"cortes",onChange:y}),n.a.createElement("label",{className:"form-check-label"},"Cortes")),n.a.createElement("div",{className:"form-check form-check-inline"},n.a.createElement("input",{className:"form-check-input",type:"radio",name:"categoria",value:"ensalada",onChange:y}),n.a.createElement("label",{className:"form-check-label"},"Ensalada                    "))),n.a.createElement("input",{type:"submit",className:"font-weight-bold text-uppercase mt-5 btn \r btn-primary btn-block py-3",value:"Editar Registro"})))}));var j=Object(p.f)((function(e){var a=e.history,t=e.guardarRecargarProductos,c=Object(r.useState)(""),o=Object(m.a)(c,2),l=o[0],u=o[1],p=Object(r.useState)(""),d=Object(m.a)(p,2),b=d[0],E=d[1],v=Object(r.useState)(""),h=Object(m.a)(v,2),N=h[0],k=h[1],y=Object(r.useState)(!1),j=Object(m.a)(y,2),R=j[0],O=j[1],P=function(e){k(e.target.value)},w=function(){var e=Object(i.a)(s.a.mark((function e(r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),""!==l&&""!==b&&""!==N){e.next=4;break}return O(!0),e.abrupt("return");case 4:return O(!1),e.prev=5,e.next=8,f.a.post("https://prueba-ap.herokuapp.com/db",{nombrePlatillo:l,precioPlatillo:b,categoria:N});case 8:201===e.sent.status&&g.a.fire("Registro Creado!","El registro se creo correctamente!","success"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),console.log(e.t0),g.a.fire({type:"error",title:"Error",text:"Hubo un error, vuelva a intentarlo!"});case 16:t(!0),a.push("/productos");case 18:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(a){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"col-md-8 mx-auto "},n.a.createElement("h1",{className:"text-center"},"Agregar Nuevo Registro"),R?n.a.createElement(x,{mensaje:"Todos los campos son obligatorios"}):null,n.a.createElement("form",{className:"mt-5",onSubmit:w},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Nombre Platillo"),n.a.createElement("input",{type:"text",className:"form-control",name:"nombre",placeholder:"Nombre",onChange:function(e){return u(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Precio"),n.a.createElement("input",{type:"number",aatill:!0,className:"form-control",name:"precio",placeholder:"Precio",onChange:function(e){return E(e.target.value)}})),n.a.createElement("legend",{className:"text-center"},"Categoria:"),n.a.createElement("div",{className:"text-center"},n.a.createElement("div",{className:"form-check form-check-inline"},n.a.createElement("input",{className:"form-check-input",type:"radio",name:"categoria",value:"postre",onChange:P}),n.a.createElement("label",{className:"form-check-label"},"Postre")),n.a.createElement("div",{className:"form-check form-check-inline"},n.a.createElement("input",{className:"form-check-input",type:"radio",name:"categoria",value:"bebida",onChange:P}),n.a.createElement("label",{className:"form-check-label"},"Bebida")),n.a.createElement("div",{className:"form-check form-check-inline"},n.a.createElement("input",{className:"form-check-input",type:"radio",name:"categoria",value:"cortes",onChange:P}),n.a.createElement("label",{className:"form-check-label"},"Cortes")),n.a.createElement("div",{className:"form-check form-check-inline"},n.a.createElement("input",{className:"form-check-input",type:"radio",name:"categoria",value:"ensalada",onChange:P}),n.a.createElement("label",{className:"form-check-label"},"Ensalada                    "))),n.a.createElement("input",{type:"submit",className:"font-weight-bold text-uppercase mt-5 btn btn-primary btn-block py-3",value:"Agregar Registro"})))}));var R=function(){return n.a.createElement("h1",{className:"text-center"},"Datos del Producto")};var O=function(e,a){t(528).createTransport({service:"Gmail",auth:{user:"adamerosasnorma@gmail.com",pass:""}}).sendMail({from:"Remitente",to:"normaadamerosas@gmail.com",subject:"Asunto",text:"Contenido del email"},(function(t,r){t?console.log(t):(console.log("Email sent"),a.status(200).jsonp(e.body))}))};var P=function(){var e=Object(r.useState)([]),a=Object(m.a)(e,2),t=a[0],c=a[1],o=Object(r.useState)(!0),l=Object(m.a)(o,2),d=l[0],E=l[1];return Object(r.useEffect)((function(){d&&(function(){var e=Object(i.a)(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("https://prueba-ap.herokuapp.com/restaurant");case 2:a=e.sent,c(a.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),E(!1))}),[d]),n.a.createElement(u.a,null,n.a.createElement(b,null),n.a.createElement("main",{className:"container mt-5"},n.a.createElement(p.c,null,n.a.createElement(p.a,{exact:!0,path:"/productos",render:function(){return n.a.createElement(k,{productos:t,guardarRecargarProductos:E})}}),n.a.createElement(p.a,{exact:!0,path:"/nuevo-producto",render:function(){return n.a.createElement(j,{guardarRecargarProductos:E})}}),n.a.createElement(p.a,{exact:!0,path:"/productos/:id",component:R}),n.a.createElement(p.a,{exact:!0,path:"/PDF",component:O}),n.a.createElement(p.a,{exact:!0,path:"/productos/editar/:id",render:function(e){var a=parseInt(e.match.params.id),r=t.filter((function(e){return e.id===a}));return n.a.createElement(y,{producto:r[0],guardarRecargarProductos:E})}}))),n.a.createElement("p",{className:"mt-4 p2 text-center"},"Todos los Derechos Reservados"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[337,1,2]]]);
//# sourceMappingURL=main.a6971f73.chunk.js.map